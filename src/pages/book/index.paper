<template class='book-index-view'>
    <header>
        <h2 @click='reloadPage("#/book")'>
            读一本好书
        </h2>
        <span @click.prevent.stop='reloadPage("#/notebook")'>返回主站</span>
    </header>
    <div>
        <component :is='page'></component>
    </div>
    <ui-footer></ui-footer>
</template>
<script>

    import '../../styles/pages/book.css';
    import QuickPaper from 'quick-paper';

    let pages = {
        home: () => import('./home.paper'),

        // 书本页面
        algorithm: () => import('./algorithm/index.paper')
    };

    export default {
        data() {
            return {
                page: null
            };
        },
        mounted() {
            this.setTitle('读一本好书', './src/assets/book.png');

            let routers = QuickPaper.urlFormat(window.location.href).router;
            this.pagename = routers[1] in pages ? routers[1] : 'home';

            pages[this.pagename]().then(data => {
                this.page = data.default;
            });
        }
    };
</script>
<style>
    [quickpaper]>div {
        min-height: calc(100vh - 169px);
        background-color: #f5f5f5;
        padding: 0 50px;
    }

    h2 {
        display: inline-block;
        vertical-align: top;
        padding-left: 60px;
        background-image: url('../../assets/book.png');
        background-size: 50px auto;
        background-repeat: no-repeat;
        background-position: left center;
        font-weight: 800;
        font-size: 30px;
        font-family: serif;
        cursor: pointer;
    }

    header {
        line-height: 72px;
        padding: 0 50px;
        background-color: rgb(255, 255, 255);
        box-shadow: rgb(0 0 0 / 10%) 0 1px 2px;
        width: 100vw;
    }

    header>span {
        float: right;
        color: #ffffff;
        font-size: 12px;
        background-color: #dddada;
        padding: 10px;
        vertical-align: top;
        line-height: 1em;
        margin-top: 22px;
        cursor: pointer;
    }

    header>span:hover {
        text-decoration: underline;
    }
</style>
