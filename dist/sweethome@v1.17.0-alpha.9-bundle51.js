(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{44:function(t,e,r){(function(t){
/*!
 * clunch.js - 🎨 The Progressive JavaScript Interactive Picture Framework.
 * git+https://github.com/hai2007/clunch.git
 *
 * author 你好2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 1.6.0
 *
 * Copyright (c) 2020-2021 hai2007 走一步，再走一步。
 * Released under the MIT license
 *
 * Date:Mon May 24 2021 09:43:31 GMT+0800 (GMT+08:00)
 */
!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=Object.prototype.toString;function o(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i.call(t)}var a=function(t,r){return null!==r&&"object"===e(r)&&t.indexOf(r.nodeType)>-1&&!function(t){if(null===t||"object"!==e(t)||"[object Object]"!=o(t))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var r=t;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}(r)},s=function(t){return"number"==typeof t||null!==t&&"object"===e(t)&&"[object Number]"===o(t)},l=function(t){var r=e(t);return"string"===r||"object"===r&&null!=t&&!Array.isArray(t)&&"[object String]"===o(t)},u=function(t){if(!function(t){var r=e(t);return null!=t&&("object"===r||"function"===r)}(t))return!1;var r=o(t);return"[object Function]"===r||"[object AsyncFunction]"===r||"[object GeneratorFunction]"===r||"[object Proxy]"===r},c=function(t){return Array.isArray(t)},f=[],h=null;function d(t,e,r){arguments.length<2&&(e=400);var n={timer:function(t,e,r){if(!t)throw new Error("Tick is required!");var i=(new Date).valueOf()+"_"+(1e3*Math.random()).toFixed(0);return f.push({id:i,createTime:new Date,tick:t,duration:e,callback:r}),n.start(),i},start:function(){h||(h=setInterval(n.tick,13))},tick:function(){var t,e,r,i,o,a,s,l=f;for((f=[]).length=0,e=0;e<l.length;e++)t=(o=l[e]).createTime,r=o.tick,a=o.duration,i=o.callback,r(s=(s=(+new Date-t)/a)>1?1:s),s<1&&o.id?f.push(o):i&&i(s);f.length<=0&&n.stop()},stop:function(){h&&(clearInterval(h),h=null)}},i=n.timer((function(e){t(e)}),e,r);return function(){var t;for(t in f)if(f[t].id==i)return void(f[t].id=void 0)}}var p=function(t,e){for(var r in e)try{t[r]=e[r]}catch(t){throw new Error("Illegal property value！")}return t},v="[\\x20\\t\\r\\n\\f]",g=function(t){/^[_$]/.test(t)&&console.warn("The beginning of _ or $ is not allowed："+t)};function _(t){var e,r,n;t=function(t,e){for(var r in e)try{t[r]=e[r]}catch(t){throw new Error("Illegal property value！")}return t}({u:.5},t);var i=function(t){if(e){var i=(t-r)/(n-r),o=i*i;return(i*o*e[0]+o*e[1]+i*e[2]+e[3])*(n-r)}throw new Error("You shoud first set the position!")};return i.setP=function(o,a,s,l,u,c){if(!(o<s))throw new Error("The point x-position should be increamented!");r=o,n=s;var f=t.u*u,h=t.u*c;return e=[2*(a/=s-o)-2*(l/=s-o)+f+h,3*l-3*a-2*f-h,f,a],i},i}function b(t){var e,r;t=p({t:0},t);var n=function(t){if(e){for(r=-1;r+1<e.x.length&&(t>e.x[r+1]||-1==r&&t>=e.x[r+1]);)r+=1;if(-1==r||r>=e.h.length)throw new Error("Coordinate crossing!");return e.h[r](t)}throw new Error("You shoud first set the position!")};return n.setT=function(e){if("number"!=typeof e)throw new Error("Expecting a figure!");return t.t=e,n},n.setP=function(r){e={x:[],h:[]};var i,o,a=(r[1][1]-r[0][1])/(r[1][0]-r[0][0]);for(e.x[0]=r[0][0],i=1;i<r.length;i++){if(r[i][0]<=r[i-1][0])throw new Error("The point position should be increamented!");e.x[i]=r[i][0],o=i<r.length-1?(r[i+1][1]-r[i-1][1])/(r[i+1][0]-r[i-1][0]):(r[i][1]-r[i-1][1])/(r[i][0]-r[i-1][0]),e.h[i-1]=_({u:.5*(1-t.t)}).setP(r[i-1][0],r[i-1][1],r[i][0],r[i][1],a,o),a=o}return n},n}function y(t,e){var r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle;return l(e)?r.getPropertyValue(e):r}var m=function(t){var e=document.getElementsByTagName("head")[0];e.style.color=t;var r=y(e,"color").replace(/^rgba?\(([^)]+)\)$/,"$1").split(new RegExp("\\,"+v));return[+r[0],+r[1],+r[2],null==r[3]?1:+r[3]]},x=function(t,e){e&&e>=0&&e<=1||(e=1);for(var r=[],n=1;n<=t;n++)r.push("rgba("+(230*Math.random()+20).toFixed(0)+","+(230*Math.random()+20).toFixed(0)+","+(230*Math.random()+20).toFixed(0)+","+e+")");return r},w=function(t,e){e&&e>=0&&e<=1||(e=1);var r=["rgba(84,112,198,"+e+")","rgba(145,204,117,"+e+")","rgba(250,200,88,"+e+")","rgba(238,102,102,"+e+")","rgba(115,192,222,"+e+")","rgba(59,162,114,"+e+")","rgba(252,132,82,"+e+")","rgba(154,96,180,"+e+")","rgba(234,124,204,"+e+")"],n=[];if(t<=r.length)return r;if(t%r.length==0)for(var i=0;i<t/r.length;i++)n=n.concat(r);else{for(var o=1;o<t/r.length;o++)n=n.concat(r);if(t%r.length==1)n=n.concat(r[4]);else for(var a=0;a<t%r.length;a++)n=n.concat(r[a])}return n};function $(t){var e,r,n=t||{},i=function(t){var i=function(t){var e,r,i={},o=n.root(t);e=r=n.id(o),i[e]={data:o,pid:null,id:e,children:[]};var a=1;return function r(o,s){var l,u=n.child(o,t);for(a+=u?u.length:0,l=0;u&&l<u.length;l++)e=n.id(u[l]),i[s].children.push(e),i[e]={data:u[l],pid:s,id:e,children:[]},r(u[l],e)}(o,e),{value:[r,i],num:a}}(t);return e=i.value[1],r=i.value[0],1==i.num?(e[r].left=.5,e[r].top=.5,{deep:1,node:e,root:r,size:1}):function(){var t=[],n=0,i=0;return function r(o,a){var s;for(a>i&&(i=a),s=0;s<o.children.length;s++)r(e[o.children[s]],a+1);(e[o.id].left=a+.5,0==s)?(null==t[a]&&(t[a]=-.5),null==t[a-1]&&(t[a-1]=-.5),e[o.id].top=t[a]+1,t[a]+1+.5*(e[o.pid].children.length-1)-1<t[a-1]&&(e[o.id].top=t[a-1]+1-.5*(e[o.pid].children.length-1))):e[o.id].top=.5*(e[o.children[0]].top+e[o.children[s-1]].top);if(e[o.id].top<=t[a]){var l=t[a]+1-e[o.id].top;!function r(n,i){var o;for(e[n].top+=l,t[i]<e[n].top&&(t[i]=e[n].top),o=0;o<e[n].children.length;o++)r(e[n].children[o],i+1)}(o.id,a)}t[a]=e[o.id].top,e[o.id].top+.5>n&&(n=e[o.id].top+.5)}(e[r],0),{node:e,root:r,size:n,deep:i+1}}()};return i.root=function(t){return n.root=t,i},i.child=function(t){return n.child=t,i},i.id=function(t){return n.id=t,i},i}var k=function(t,e,r,n,i){var o=Math.cos(r),a=Math.sin(r);return[+((n-t)*o-(i-e)*a+t).toFixed(7),+((n-t)*a+(i-e)*o+e).toFixed(7)]},A=function(t,e,r,n,i){var o=Math.sqrt(t*t+e*e);return[+(t*r/o+n).toFixed(7),+(e*r/o+i).toFixed(7)]},S=function(t,e,r,n,i){return[+(r*(n-t)+t).toFixed(7),+(r*(i-e)+e).toFixed(7)]},M=function(t){t=p({d:[1,1],c:[0,0],p:[0,0]},t);var e={rotate:function(r){var n=t.d[0]+t.p[0],i=t.d[1]+t.p[1],o=k(t.p[0],t.p[1],r,n,i);return t.d=[o[0]-t.p[0],o[1]-t.p[1]],e},move:function(r){return t.p=A(t.d[0],t.d[1],r,t.p[0],t.p[1]),e},scale:function(r){return t.p=S(t.c[0],t.c[1],r,t.p[0],t.p[1]),e},value:function(){return t.p}};return e};function T(t){t=p({"begin-deg":0,deg:2*Math.PI},t);var e=$().root(t.root).child(t.child).id(t.id),r=function r(n){var i=e(n);for(var o in i.node)i.node[o].deep=i.node[o].left-.5;if("LR"===t.type||"RL"===t.type){var a=t.width/i.deep;"RL"===t.type&&(a*=-1);var s=t.height/(i.size- -.5);for(var l in i.node){var c=i.node[l];i.node[l].left=+(("RL"==t.type?t.width:0)- -c.left*a).toFixed(7),i.node[l].top=+(c.top*s).toFixed(7)}}else if("TB"===t.type||"BT"===t.type){var f=t.height/i.deep;"BT"==t.type&&(f*=-1);var h,d,p=t.width/(i.size- -.5);for(var v in i.node){var g=i.node[v];h=g.left,d=g.top,i.node[v].top=+(("BT"==t.type?t.height:0)- -h*f).toFixed(7),i.node[v].left=+(d*p).toFixed(7)}}else if("circle"===t.type)if(1==i.deep&&1==i.size)i.node[i.root].left=t.cx,i.node[i.root].top=t.cy;else{var _=t.radius/(i.deep-1),b=t.deg/(i.size- -.5);for(var y in i.node){var m=i.node[y];i.node[y].deg=(t["begin-deg"]- -b*m.top)%(2*Math.PI);var x=k(t.cx,t.cy,i.node[y].deg,t.cx- -_*(m.left-.5),t.cy);i.node[y].left=+x[0],i.node[y].top=+x[1]}}return u(t.drawer)?(t.drawer(i),r):i};return r.config=function(e){return t=p(t,e),r},r.drawer=function(e){return t.drawer=e,r},r}var z=function(t,e,r,n){var i=Math.cos(t),o=Math.sin(t);return[e*i-r*o,e*o+r*i,n]},O=[];function R(t,e,r){return O=function(t,e,r,n){var i=Math.cos(t),o=Math.sin(t);return[n*o+e*i,r,n*i-e*o]}((360-r)/180*Math.PI,100*t.scale,0,0),O=z(e/180*Math.PI,O[0],O[1],O[2]),O=z((90-t.center[0])/180*Math.PI,O[0],O[1],O[2]),[-(O=function(t,e,r,n){var i=Math.cos(t),o=Math.sin(t);return[e,r*i-n*o,r*o+n*i]}((90-t.center[1])/180*Math.PI,O[0],O[1],O[2]))[0],O[1],O[2]]}function P(t){var e=p({type:"eoap",scale:1,center:[107,36]},t),r=function(t,r){if("eoap"==e.type)return R(e,t,r);throw new Error("Map type configuration error!")};return r.config=function(t){return e=p(e,t),r},r}var I=function(t){return t<0?Math.ceil(t):Math.floor(t)};function j(t,e){var r,n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(t==e)e>0?n=t/o:e<0&&(n=-(n=t/o)),r=(r=n/(i=Math.pow(10,I(Math.log(n)/Math.log(10)))==n?Math.pow(10,I(Math.log(n)/Math.log(10))):Math.pow(10,I(Math.log(n)/Math.log(10))+1)))>=0&&r<=.1?.1:r>=.100001&&r<=.2?.2:r>=.200001&&r<=.25?.25:r>=.250001&&r<=.5?.5:1,e=0,o=((t=I(t/(r*=i)+1)*r)-e)/r;else if(t!=e){r=(r=(n=(t-e)/o)/(i=Math.pow(10,I(Math.log(n)/Math.log(10)))==n?Math.pow(10,I(Math.log(n)/Math.log(10))):Math.pow(10,I(Math.log(n)/Math.log(10))+1)))>=0&&r<=.1?.1:r>=.100001&&r<=.2?.2:r>=.200001&&r<=.25?.25:r>=.250001&&r<=.5?.5:1,I(e/(r*=i))!=e/r&&(e=e<0?-1*Math.ceil(Math.abs(e/r))*r:I(Math.abs(e/r))*r);var a=((t=I(t/r+1)*r)-e)/r;if(a<o){var s=o-a;a=o,t+=s%2==0?r*I(s/2):r*I(s/2+1),e-=r*I(s/2)}o=a}for(var l={min:e,max:t,distance:r,num:o,ruler:[]},u=0;u<=o;u++)l.ruler.push(e+r*u);return l}function E(t){for(var e=[],r=function(r){["boolean","number","json","string","color","any"].indexOf(t[r])>-1?e.unshift((function(e){var n=!(arguments.length>0);return function(i){return{type:t[r],required:n,animation:i,default:e}}})):e.unshift({$animation:d,$cardinal:b,$formatColor:m,$getRandomColors:x,$tree:T,$dot:M,$rotate:k,$move:A,$scale:S,$map:P,$getLoopColors:w,$ruler:j}[t[r]])},n=t.length-2;n>=0;n--)r(n);return t[t.length-1].apply(this,e)}var C=function(t,e){switch(t){case"boolean":return"false"!=e&&0!=e;case"number":return/deg$/.test(e)?(0- -e.replace(/deg$/,""))/180*Math.PI:/pi$/.test(e)?(0- -e.replace(/pi$/,""))*Math.PI:l(e)?+e:e;case"json":return l(e)?JSON.parse(e):e}return e};function W(t,e){t=JSON.parse(JSON.stringify(t));var r=0;return function t(n,i){for(var o=[],a=0;a<n.length;a++){var s=n[a];if(i||s.name in e){var u={name:s.name,attrs:{},events:[],scope:{},index:r++},c=i?{attrs:e[i].subAttrs[s.name]}:e[s.name];for(var f in s.attrs)if(/^c\-bind\:/.test(f)||/^\:/.test(f))s.attrs[f.replace(/^(?:c\-bind){0,1}\:/,"")]={isBind:!0,express:s.attrs[f]},delete s.attrs[f];else if(/^c\-on\:/.test(f)){var h=(f.replace(/^c\-on\:/,"")+"@default").split("@");u.events.push({event:h[0],region:h[1],method:s.attrs[f]})}else if("c-for"==f){var d=/^ {0,}\(/.test(s.attrs[f]),p=d?/^ {0,}\( {0,}([0-9a-zA-Z_$]+) {0,}, {0,}([0-9a-zA-Z_$]+) {0,}\) {1,}in {1,}([^ ]+) {0,}$/.exec(s.attrs[f]):/^ {0,}([0-9a-zA-Z_$]+) {1,}in {1,}([^ ]+) {0,}$/.exec(s.attrs[f]);if(u["c-for"]={key:d?p[2]:null,value:p[1],data:d?p[3]:p[2]},/^\d{1,}$/.test(u["c-for"].data)){var v=+u["c-for"].data;u["c-for"].data=[];for(var g=0;g<v;g++)u["c-for"].data.push(g)}}else"c-if"==f?u["c-if"]=s.attrs[f]:s.attrs[f]={isBind:!1,express:s.attrs[f]};for(var _ in s.attrs)/^c\-/.test(_)||("_id"==_?u._id=s.attrs._id:"_animation"==_?u._animation=s.attrs._animation:_ in c.attrs||console.warn("attrs."+_+" is not defined for "+(i?i+" > "+s.name:s.name)+"!"));for(var b in c.attrs){var y=c.attrs[b];if(y.required&&!(b in s.attrs))throw new Error("attrs."+b+" is required for "+(i?i+" > "+s.name:s.name)+"!");u.attrs[b]={animation:y.animation,type:y.type,value:b in s.attrs?s.attrs[b]:{isBind:!1,express:y.default}},u.attrs[b].value.isBind||(u.attrs[b].value.express=C(u.attrs[b].type,u.attrs[b].value.express))}var m=[],x=[],w=[];if(s.children)for(var $=0;$<s.children.length;$++)l(s.children[$])?w.push(s.children[$]):c.subAttrs&&s.children[$].name in c.subAttrs?x.push(s.children[$]):m.push(s.children[$]);u.children=t(m),u.subAttrs=t(x,s.name),u.text=w,o.push(u)}else console.error("Series "+s.name+" is not defined!")}return o}(t)}var D=function(t,e,r,n,i){var o=Math.cos(r),a=Math.sin(r);return[+((n-t)*o-(i-e)*a+t).toFixed(7),+((n-t)*a+(i-e)*o+e).toFixed(7)]};var B={fillStyle:"black",strokeStyle:"black",lineWidth:1,textAlign:"left",textBaseline:"middle","font-size":16,"font-family":"sans-serif","arc-start-cap":"butt","arc-end-cap":"butt",lineDash:[],shadowBlur:0,shadowColor:"black"},F=function(t,e,r,n,i,o){return t.beginPath(),t.translate(r,n),t.rotate(i),"default"!=o?t.setFontSize(e["font-size"]):t.font=e["font-size"]+"px "+e["font-family"],t},L=function(t,e,r,n,i,o,a,s){if(i>o){var l=i;i=o,o=l}return a%=2*Math.PI,s>=1.999999*Math.PI||s<=1.999999*-Math.PI?s=2*Math.PI:s%=2*Math.PI,function(t,e,r,n,i,o,a){e<0&&(t+=e,e*=-1);var s,l=[];s=D(0,0,t,i,0),l[0]=s[0],l[1]=s[1],s=D(0,0,e,s[0],s[1]),l[2]=s[0],l[3]=s[1],s=D(0,0,t,o,0),l[4]=s[0],l[5]=s[1],s=D(0,0,e,s[0],s[1]),l[6]=s[0],l[7]=s[1],a(t,t+e,l[0]+r,l[1]+n,l[4]+r,l[5]+n,l[2]+r,l[3]+n,l[6]+r,l[7]+n,.5*(o-i))}(a,s,r,n,i,o,(function(a,s,l,u,c,f,h,d,p,v,g){g<0&&(g=-g),t.beginPath(),t.moveTo(l,u),t.arc(r,n,i,a,s,!1),"round"!=e["arc-end-cap"]?t.lineTo(p,v):t.arc(.5*(h+p),.5*(d+v),g,s-Math.PI,s,!0),t.arc(r,n,o,s,a,!0),"round"!=e["arc-start-cap"]?t.lineTo(l,u):t.arc(.5*(l+c),.5*(u+f),g,a,a-Math.PI,!0)})),"butt"==e["arc-start-cap"]&&t.closePath(),t},N=function(t,e,r,n){return t.beginPath(),t.moveTo(e+n,r),t.arc(e,r,n,0,2*Math.PI),t},U=function(t,e,r,n,i){return t.beginPath(),t.rect(e,r,n,i),t},J={};function q(t,r,n,i){var o;"default"!=t?o=r.painter:(o=r.getContext("2d"),r.style.width=n+"px",r.style.height=i+"px",r.setAttribute("width",2*n),r.setAttribute("height",2*i),o.scale(2,2));var a={},s="default"!=t?function(e,r){if(["font-size","font-family","arc-start-cap","arc-end-cap"].indexOf(e)>-1)a[e]=r;else try{o["set"+e[0].toUpperCase()+e.substr(1)](r)}catch(r){J[t]||(J[t]={}),J[t][e]||(J[t][e]=!0,console.warn("Clunch内置画笔的"+e+"属性在"+t+"平台上不支持！"))}}:function(t,e){if("lineDash"==t)o.setLineDash(e);else if(["font-size","font-family","arc-start-cap","arc-end-cap"].indexOf(t)>-1)a[t]=e;else{if(!(t in B))throw new Error("Illegal configuration item of painter : "+t+" !");o[t]=e}},l={config:function(){if(1===arguments.length){if("object"!==e(arguments[0]))return o[arguments[0]];for(var t in arguments[0])s(t,arguments[0][t])}else 2===arguments.length&&s(arguments[0],arguments[1]);return l},fillText:function(e,r,n,i){return o.save(),F(o,a,r,n,i||0,t).fillText(e,0,0),o.restore(),l},strokeText:function(e,r,n,i){return o.save(),F(o,a,r,n,i||0,t).strokeText(e,0,0),o.restore(),l},fullText:function(e,r,n,i){return o.save(),F(o,a,r,n,i||0,t),o.fillText(e,0,0),o.strokeText(e,0,0),o.restore(),l},beginPath:function(){return o.beginPath(),l},closePath:function(){return o.closePath(),l},moveTo:function(t,e){return o.moveTo(t,e),l},lineTo:function(t,e){return o.lineTo(t,e),l},arc:function(t,e,r,n,i){return o.arc(t,e,r,n,n+i,i<0),l},fill:function(){return o.fill(),l},stroke:function(){return o.stroke(),l},full:function(){return o.fill(),o.stroke(),l},save:function(){return o.save(),l},restore:function(){return o.restore(),l},quadraticCurveTo:function(t,e,r,n){return o.quadraticCurveTo(t,e,r,n),l},bezierCurveTo:function(t,e,r,n,i,a){return o.bezierCurveTo(t,e,r,n,i,a),l},clearRect:function(t,e,r,a){return o.clearRect(t||0,e||0,r||n,a||i),l},toDataURL:function(){return r.toDataURL()},drawImage:function(t,e,r,a,s,u,c,f,h){return e=e||0,r=r||0,u=u||0,c=c||0,f=f?2*f:2*n,h=h?2*h:2*i,"CANVAS"==t.nodeName?(f/=2,h/=2,a=a?2*a:2*n,s=s?2*s:2*i):(a=2*(a||t.width),s=2*(s||t.height)),o.drawImage(t,e,r,a,s,u,c,f,h),l},fillArc:function(t,e,r,n,i,s){return L(o,a,t,e,r,n,i,s).fill(),l},strokeArc:function(t,e,r,n,i,s){return L(o,a,t,e,r,n,i,s).stroke(),l},fullArc:function(t,e,r,n,i,s){return L(o,a,t,e,r,n,i,s),o.fill(),o.stroke(),l},fillCircle:function(t,e,r){return N(o,t,e,r).fill(),l},strokeCircle:function(t,e,r){return N(o,t,e,r).stroke(),l},fullCircle:function(t,e,r){return N(o,t,e,r),o.fill(),o.stroke(),l},fillRect:function(t,e,r,n){return U(o,t,e,r,n).fill(),l},strokeRect:function(t,e,r,n){return U(o,t,e,r,n).stroke(),l},fullRect:function(t,e,r,n){return U(o,t,e,r,n),o.fill(),o.stroke(),l},createLinearGradient:function(t,e,r,n){return function(t,e,r,n,i){var o=t.createLinearGradient(e,r,n,i),a={value:function(){return o},addColorStop:function(t,e){return o.addColorStop(t,e),a}};return a}(o,t,e,r,n)},createRadialGradient:function(t,e,r){return function(t,e,r,n){var i=t.createRadialGradient(e,r,0,e,r,n),o={value:function(){return i},addColorStop:function(t,e){return i.addColorStop(t,e),o}};return o}(o,t,e,r)}};return l}function V(t,e,r){window.attachEvent?t.attachEvent("on"+e,r):t.addEventListener(e,r,!1)}function G(t,e){var r,n,i=1,o=1,a={},s=[0,0,0],l="r";return"default"==t._platform?(r=document.createElement("canvas"),n=q(t._platform,r,1,1)):(r=e.region,n=q(t._platform,{painter:e.region},e.width,e.height),i=e.width,o=e.height),{draw:function(){r.draw()},erase:function(){n.config({fillStyle:"rgb(255,255,255)"}).fillRect(0,0,i,o)},updateSize:function(a,s){i=a,o=s,n="default"==t._platform?q(t._platform,r,a,s):q(t._platform,{painter:e.region},a,s)},painter:function(t,e){return null==a[t]&&(a[t]={r:function(){return s[0]+=1,l="g","rgb("+s[0]+","+s[1]+","+s[2]+")"},g:function(){return s[1]+=1,l="b","rgb("+s[0]+","+s[1]+","+s[2]+")"},b:function(){return s[2]+=1,l="r","rgb("+s[0]+","+s[1]+","+s[2]+")"}}[l]()),n.config(B).config({fillStyle:a[t],strokeStyle:a[t]}),n},getRegion:function(e,n){var i,o=function(t,e){if("result"==e.type)return{x:e.position.left,y:e.position.top};var r=t.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top}}(t.__canvas,e),s=function(){for(var t in a)if("rgb("+i[0]+","+i[1]+","+i[2]+")"==a[t])return void n([t,o.x,o.y]);n([null,o.x,o.y])};"default"==t._platform?(o.x-=y(t.__canvas,"border-left-width").replace("px",""),o.y-=y(t.__canvas,"border-top-width").replace("px",""),i=r.getContext("2d").getImageData(2*o.x-.5,2*o.y-.5,1,1).data,s()):t.__options.el.getRegionColor({x:o.x-.5,y:o.y-.5,width:1,height:1,canvasId:t.__options.el.regionid,success:function(t){i=t.data,s()},fail:function(t){throw new Error(t)}})}}}var Z=Object.prototype.toString;var H=function(t){var r=e(t);return"string"===r||"object"===r&&null!=t&&!Array.isArray(t)&&"[object String]"===function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Z.call(t)}(t)},Y={blankReg:new RegExp("[\\x20\\t\\r\\n\\f]"),blanksReg:/^[\x20\t\r\n\f]{0,}$/,identifier:/^[a-zA-Z_$][0-9a-zA-Z_$]{0,}$/},X=["+","-","*","/","%","&","|","!","?",":","[","]","(",")",">","<","="],K=["+","-","*","/","%","&","|","!","?",":",">","<","=","<=",">=","==","===","!=","!=="];function Q(t,e,r){e=e.trim();var n=-1,i=null,o=function(){return i=n++<e.length-1?e[n]:null},a=function(t){return e.substring(n,t+n>e.length?e.length:t+n)};o();for(var s=[];!(n>=e.length);)if(X.indexOf(i)>-1)if(["&","|","="].indexOf(i)>-1)if(["==="].indexOf(a(3))>-1)s.push(a(3)),n+=2,o();else{if(!(["&&","||","=="].indexOf(a(2))>-1))throw new Error("Illegal expression : "+e+"\nstep='analyseExpress',index="+n);s.push(a(2)),n+=1,o()}else["!=="].indexOf(a(3))>-1?(s.push(a(3)),n+=2,o()):[">=","<=","!="].indexOf(a(2))>-1?(s.push(a(2)),n+=1,o()):(s.push(i),o());else if(['"',"'"].indexOf(i)>-1){var l="",u=i;for(o();i!=u;){if(n>=e.length)throw new Error("String unclosed error : "+e+"\nstep='analyseExpress',index="+n);l+=i,o()}s.push(l+"@string"),o()}else if(/\d/.test(i)){var c="no";l=i;for(o();n<e.length;){if(/\d/.test(i))l+=i,"error"==c&&(c="yes");else{if("."!=i||"no"!=c)break;l+=i,c="error"}o()}"error"==c&&(l+="0"),s.push(+l)}else if(["null","true"].indexOf(a(4))>-1)s.push({null:null,true:!0}[a(4)]),n+=3,o();else if(["false"].indexOf(a(5))>-1)s.push({false:!1}[a(5)]),n+=4,o();else if(["undefined"].indexOf(a(9))>-1)s.push({undefined:void 0}[a(9)]),n+=8,o();else if(Y.blankReg.test(i))do{o()}while(Y.blankReg.test(i)&&n<e.length);else{var f=!1;if("."==i&&(f=!0,o()),!Y.identifier.test(i))throw new Error("Illegal express : "+e+"\nstep='analyseExpress',index="+n);for(var h=1;n+h<=e.length&&Y.identifier.test(a(h));)h+=1;if(f)s.push("["),s.push(a(h-1)+"@string"),s.push("]");else{var d=a(h-1),p=d in r?r[d]:t[d];s.push(H(p)?p+"@string":p)}n+=h-2,o()}for(var v=0,g=0;g<s.length;g++)["+","-"].indexOf(s[g])>-1&&(0==g||K.indexOf(s[v-1])>-1)?(s[v++]=+(s[g]+s[g+1]),g+=1):s[v++]=s[g];return s.length=v,s}var tt=function(t){return"string"==typeof t?t.replace(/@string$/,""):t},et=function(t){return"string"==typeof t?t+"@string":t};function rt(t){for(var e=0,r=0;r<t.length;r++)"!"==t[r]?t[e]=!t[++r]:t[e]=t[r],e+=1;if(1==e)return tt(t[0]);for(t.length=e,e=0,r=0;r<t.length;r++)"*"==t[r]?t[e-1]=tt(t[e-1])*tt(t[++r]):"/"==t[r]?t[e-1]=tt(t[e-1])/tt(t[++r]):"%"==t[r]?t[e-1]=tt(t[e-1])%tt(t[++r]):t[e++]=t[r];if(1==e)return tt(t[0]);for(t.length=e,e=0,r=0;r<t.length;r++)"+"==t[r]?t[e-1]=et(tt(t[e-1])+tt(t[++r])):"-"==t[r]?t[e-1]=tt(t[e-1])-tt(t[++r]):t[e++]=t[r];if(1==e)return tt(t[0]);for(t.length=e,e=0,r=0;r<t.length;r++)">"==t[r]?t[e-1]=tt(t[e-1])>tt(t[++r]):"<"==t[r]?t[e-1]=tt(t[e-1])<tt(t[++r]):"<="==t[r]?t[e-1]=tt(t[e-1])<=tt(t[++r]):">="==t[r]?t[e-1]=tt(t[e-1])>=tt(t[++r]):t[e++]=t[r];if(1==e)return tt(t[0]);for(t.length=e,e=0,r=0;r<t.length;r++)"=="==t[r]?t[e-1]=tt(t[e-1])==tt(t[++r]):"==="==t[r]?t[e-1]=tt(t[e-1])===tt(t[++r]):"!="==t[r]?t[e-1]=tt(t[e-1])!=tt(t[++r]):"!=="==t[r]?t[e-1]=tt(t[e-1])!==tt(t[++r]):t[e++]=t[r];if(1==e)return tt(t[0]);for(t.length=e,e=0,r=0;r<t.length;r++)"&&"==t[r]?(t[e-1]=tt(t[e-1])&&tt(t[1+r]),r+=1):"||"==t[r]?(t[e-1]=tt(t[e-1])||tt(t[1+r]),r+=1):t[e++]=t[r];if(1==e)return tt(t[0]);for(t.length=e,e=0,r=0;r<t.length;r++)"?"==t[r]?(t[e-1]=tt(t[e-1])?tt(t[r+1]):tt(t[r+3]),r+=3):t[e++]=t[r];if(1==e)return tt(t[0]);throw t.length=e,new Error("Unrecognized expression : ["+t.toString()+"]")}var nt=function(t){for(var e=!0;e;){e=!1;for(var r=[],n=[],i=!1,o=0;o<t.length;o++)if("["==t[o]&&0!=o&&"]"!=t[o-1]){if(i){r.push("[");for(var a=0;a<n.length;a++)r.push(n[a])}else i=!0;n=[]}else if("]"==t[o]&&i){e=!0;var s=rt(n),l=r[r.length-1][s];r[r.length-1]=H(l)?l+"@string":l,i=!1}else i?n.push(t[o]):r.push(t[o]);t=r}return t},it=function(t){for(var e=[],r=[],n=0;n<t.length;n++)"["==t[n]?r=[]:"]"==t[n]?e.push(rt(r)):r.push(t[n]);return e};function ot(t,e,r){var n,i=function t(e,r,n){if(r.indexOf("(")>-1){for(var i=[],o=[],a=0,s=0;s<r.length;s++)if("("==r[s])a>0&&o.push("("),a+=1;else if(")"==r[s]){if(a>1&&o.push(")"),0==(a-=1)){var l=rt(t(e,o));i.push(H(l)?l+"@string":l),o=[]}}else a>0?o.push(r[s]):i.push(r[s]);r=i}return nt(r)}(t,e);if("["!=i[0])n=[rt(i)];else if("]"==i[i.length-1])n=it(i);else{var o=i.lastIndexOf("]"),a=it(i.slice(0,o+1)),s=i.slice(o+1);s.unshift(function(t,e,r){for(var n=(e[0]in r?r[e[0]]:t[e[0]]),i=1;i<e.length;i++)try{n=n[e[i]]}catch(n){throw console.error({target:t,scope:r,expressArray:e,index:i}),n}return n}(t,a,r)),n=[rt(s)]}return n}var at=function(t,e,r){arguments.length<3&&(r={});var n=Q(t,e,r),i=ot(t,n,r);if(i.length>1)throw new Error("Illegal expression : "+e+"\nstep='evalExpress',path="+i+",expressArray="+n);return i[0]},st=function(t,e,r){if(e.animation&&t.value!=e.value){if(u(e.animation))return{type:e.type,animation:!0,value:e.animation(e.value,t.value,r)};if("number"==e.type)return{type:e.type,animation:!0,value:(e.value-t.value)*r+t.value}}return e};function lt(t){this instanceof lt?(["beforeCreate","created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","beforeResize","resized","beforeDestroy","destroyed"].forEach((function(e){c(t[e])&&(t[e]=E(t[e]))})),this.$$lifecycle(t.beforeCreate),this.$$init(t),function(t){var e=function(e){var r=t.__data[e];t[e]=r,Object.defineProperty(t,e,{get:function(){return r},set:function(e){r=e,t.__observeWatcher.flag||window.setTimeout((function(){t.$$updateWithData(),t.__observeWatcher.flag=!1}),0),t.__observeWatcher.flag=!0}})};for(var r in t.__data)e(r)}(this),this.$$lifecycle("created"),this.$mount(t.el)):console.error("Clunch is a constructor and should be called with the `new` keyword")}function ut(t){var e=E(t);for(var r in e.attrs)u(e.attrs[r])&&(e.attrs[r]=e.attrs[r](!1));for(var n in e.subAttrs)for(var i in e.subAttrs[n])u(e.subAttrs[n][i])&&(e.subAttrs[n][i]=e.subAttrs[n][i](!1));return e}!function(t){t.prototype.$$init=function(t){var e=this;for(var r in this.__options=t,this._platform="platform"in t?t.platform:"default",this.__data=c(t.data)?E(t.data):u(t.data)?t.data():t.data,this.__animation=!("animation"in t)||t.animation,this._isMounted=!1,this._isDestroyed=!1,t.methods)g(r),this[r]=c(t.methods[r])?E(t.methods[r]):t.methods[r];for(var n in this.__data)g(n),this[n]=this.__data[n];this.__renderFlag=!!t.render||!!t.template,t.render?this.__renderAOP=W(t.render,this.__defineSerirs):t.template&&(this.__renderOptions=this.$$templateCompiler(t.template),this.__renderAOP=W(this.__renderOptions,this.__defineSerirs)),this.__observeWatcher={flag:!1,stop:null,time:"time"in t?t.time:500},this.__observeResize={help:!0,flag:!1,observer:null},this.__painter=null,this._width=0,this._height=0,this._min=0,this._max=0,"default"==this._platform?this.__regionManager=G(this):this.__regionManager=G(this,t.el),this.$$trigger=function(t,r){for(var n=e.__events_platform[t],i=0;i<n.length;i++)n[i]({type:"result",position:r})}}}(lt),function(t){t.prototype.$$lifecycle=function(t){return u(t)?t():["created","beforeMount","mounted","beforeUnmount","unmounted","beforeUpdate","updated","beforeResize","resized","beforeDraw","drawed","beforeDestroy","destroyed"].indexOf(t)>-1&&u(this.__options[t])&&this.__options[t].call(this),this}}(lt),function(t){t.prototype.$$updateView=function(){var t=this;if(this._isMounted&&this.__painter){this.$$lifecycle("beforeDraw"),this.__regionManager.erase(),this.__painter.clearRect();for(var e=function(e){var r={_subTexts:t.__renderSeries[e].subText,_subAttr:[]};for(var n in t.__renderSeries[e].attr)r[n]=t.__renderSeries[e].attr[n].value;for(var i=0;i<t.__renderSeries[e].subAttr.length;i++){var o={series:t.__renderSeries[e].subAttr[i].name,attr:{}};for(var a in t.__renderSeries[e].subAttr[i].attr)o.attr[a]=t.__renderSeries[e].subAttr[i].attr[a].value;r._subAttr.push(o)}t.__painter.config(B),t.__defineSerirs[t.__renderSeries[e].name].link.call(t,t.__painter,r);var s=t.__defineSerirs[t.__renderSeries[e].name].region;if(s){var l=function(n){var i=t;s[n].call(i,(function(t,r){return arguments.length>0?t+="":t="default",i.__regionManager.painter(e+"@"+n+"::"+t,r)}),r)};for(var u in s)l(u)}},r=0;r<this.__renderSeries.length;r++)e(r);"default"!=this._platform&&(this.__platform_painter.draw(),null!=this.__regionManager&&this.__regionManager.draw()),this.$$lifecycle("drawed")}},t.prototype.$$updateWithSize=function(){var t=this;this.$$lifecycle("beforeResize");var e=this.__el.clientWidth-(y(this.__el,"padding-left")+"").replace("px","")-(y(this.__el,"padding-right")+"").replace("px",""),r=this.__el.clientHeight-(y(this.__el,"padding-top")+"").replace("px","")-(y(this.__el,"padding-bottom")+"").replace("px","");if(this._width=e,this._height=r,this._max=e>r?e:r,this._min=e<r?e:r,0==e||0==r)return this.__canvas.style.width="0px",this.__canvas.style.height="0px",void this.$$lifecycle("resized");this.__painter=q(this._platform,this.__canvas,e,r),this.__regionManager.updateSize(e,r),u(this.__observeWatcher.stop)&&(this.__observeWatcher.stop(),this.__observeWatcher.stop=null),setTimeout((function(){t.$$updateWithData(!0),t.$$lifecycle("resized")}),10)},t.prototype.$$updateWithData=function(t){var e=this;u(this.__observeWatcher.stop)?(this.__observeWatcher.stop(),this.__observeWatcher.stop=null):this.$$lifecycle("beforeUpdate"),this.__events={click:{},dblclick:{},mousemove:{},mousedown:{},mouseup:{}};var r=[],n=this;if(function t(e,i,o,a,l){for(var u=[],f=0;f<e.length;f++){for(var h in i)e[f].scope[h]=i[h];var d=void 0;d="_id"in e[f]?e[f]._id.isBind?at(n,e[f]._id.express,e[f].scope):e[f]._id.express:a+e[f].index;var p=void 0;if(p="_animation"in e[f]?e[f]._animation.isBind?at(n,e[f]._animation.express,e[f].scope):e[f]._animation.express:"lazy",l||!("c-for"in e[f])){if("c-if"in e[f]&&!at(n,e[f]["c-if"],e[f].scope));else if(t(e[f].children,e[f].scope,!1,d+"-",!1),"group"!=e[f].name){var v={name:e[f].name,attr:{},subAttr:[],subText:e[f].text,id:d,animation:p};for(var g in e[f].attrs){var _=e[f].attrs[g];v.attr[g]={animation:_.animation,type:_.type,value:_.value.isBind?at(n,_.value.express,e[f].scope):_.value.express}}v.subAttr=t(e[f].subAttrs,e[f].scope,!0,d+"-",!1);for(var b=0;b<e[f].events.length;b++){var y=e[f].events[b];n.__events[y.event][r.length+"@"+y.region]=n[y.method]}o?u.push(v):r.push(v)}}else{var m=e[f]["c-for"],x=void 0;if(c(m.data))x=m.data;else if(x=at(n,m.data,e[f].scope),s(x)){var w=x;x=[];for(var $=0;$<w;$++)x.push($)}for(var k in x){e[f].scope[m.value]=x[k],null!=m.key&&(e[f].scope[m.key]=c(x)?+k:k);var A=t([e[f]],{},o,d+"for"+k+"-",!0);if(o)for(var S=0;S<A.length;S++)u.push(A[S])}}}return u}(this.__renderAOP,{},!1,"",!1),!this.__renderSeries||t||!this.__animation)return this.__renderSeries=r,this.$$updateView(),void this.$$lifecycle("updated");var i=function(t,e){for(var r={},n=0;n<t.length;n++){for(var i={},o=0;o<t[n].subAttr.length;o++)i[t[n].subAttr[o].id]=o;r[t[n].id]={index:n,subLinkIdToIndex:i}}return function(n){if(1==n)return e;for(var i=[],o=0;o<e.length;o++)if(e[o].id in r){var a=t[r[e[o].id].index],s={};for(var l in a.attr)s[l]=st(a.attr[l],e[o].attr[l],n);for(var u=[],c=0;c<e[o].subAttr.length;c++)if(e[o].subAttr[c].id in r[e[o].id].subLinkIdToIndex){var f=a.subAttr[r[e[o].id].subLinkIdToIndex[e[o].subAttr[c].id]],h={};for(var d in f.attr)h[d]=st(f.attr[d],e[o].subAttr[c].attr[d],n);u.push({id:f.id,name:f.name,subText:f.subText,subAttr:[],attr:h})}else u.push(e[o].subAttr[c]);i.push({id:e[o].id,name:e[o].name,subText:e[o].subText,subAttr:u,attr:s})}else"quick"==e[o].animation&&i.push(e[o]);return i}}(this.__renderSeries,r);this.__observeWatcher.stop=d((function(t){e.__renderSeries=i(t),e.$$updateView()}),this.__observeWatcher.time,(function(t){1==t&&(e.__observeWatcher.stop=null,e.$$lifecycle("updated"))}))}}(lt),lt.prototype.__defineSerirs={},function(t){!function(t){t.prototype.$reuseSeriesLink=function(t,e){this.__painter.config(B);var r=this.__defineSerirs[t],n={_subAttr:[],_subTexts:"texts"in e?e.texts:[]};for(var i in r.attrs)i in e.attr?n[i]=e.attr[i]:n[i]=r.attrs[i].default;if("subSeries"in e)for(var o=0;o<e.subSeries.length;o++){var a=e.subSeries[o],s=r.subAttrs[a.name],l={series:a.name,attr:{}};for(var u in a.attr)u in a.attr?l.attr[u]=a.attr[u]:l.attr[u]=s[u].default;n._subAttr.push(l)}r.link.call(this,this.__painter,n)}}(t),t.series=function(e,r){if(1==arguments.length)for(var n in e)t.series(n,e[n]);else u(t.prototype.__defineSerirs[e])&&console.warn("The series["+e+"] has been registered!"),t.prototype.__defineSerirs[e]=ut(r);return t}}(lt),lt.prototype.$mount=function(t){var e=this;return this._isDestroyed?(console.warn("The clunch has been destroyed!"),this):this._isMounted?void console.warn("The clunch is already mounted!"):"default"!=this._platform||function(t){return a([1,9,11],t)}(t)?(this.$$lifecycle("beforeMount"),this.__renderFlag||(this.__renderOptions=this.$$templateCompiler(t.innerHTML),this.__renderAOP=W(this.__renderOptions,this.__defineSerirs)),this.__el=t,"default"==this._platform?(t.innerHTML="<canvas>非常抱歉，您的浏览器不支持canvas!</canvas>",this.__canvas=t.getElementsByTagName("canvas")[0],function(t){try{t.__observeResize.observer=new ResizeObserver((function(){if(t.__observeResize.flag)t.__observeResize.help=!1;else{t.__observeResize.flag=!0;var e=setInterval((function(){t.__observeResize.help&&(window.clearInterval(e),t.__observeResize.flag=!1,t.$$updateWithSize()),t.__observeResize.help=!0}),200)}})),t.__observeResize.observer.observe(t.__el)}catch(e){t.$$updateWithSize(),console.error("ResizeObserver undefined!")}}(this)):(this.__painter=q(this._platform,t,t.width,t.height),this.__platform_painter=t.painter,this.$resize(t.width,t.height)),this.$$updateWithData(),this.__events_platform={click:[],dblclick:[],mousemove:[],mousedown:[],mouseup:[]},["click","dblclick","mousemove","mousedown","mouseup"].forEach((function(t){var r=function(r){e.__regionManager.getRegion(r,(function(r){if(null!=r[0]){var n=r[0].split("::"),i=e.__events[t][n[0]];if(u(i)){var o=n[0].split("@"),a=e.__renderSeries[o[0]],s={};for(var l in a.attr)s[l]=a.attr[l].value;i.call(e,{id:a.id,series:a.name,region:o[1],subRegion:n[1],attr:s,left:r[1],top:r[2],data:r[3]})}}}))};"default"==e._platform?V(e.__canvas,t,r):e.__events_platform[t].push(r)})),this.$bind=function(t,e){var r=this,n=function(t){r.__regionManager.getRegion(t,(function(t){var n;if(null!=t[0]){var i=t[0].split("::"),o=i[0].split("@"),a=r.__renderSeries[o[0]],s={};for(var l in a.attr)s[l]=a.attr[l].value;n={id:a.id,series:a.name,region:o[1],subRegion:i[1],attr:s,left:t[1],top:t[2],data:t[3]}}else n={series:null,region:null,subRegion:null,attr:{},left:-1,top:-1,data:null};n.left=t[1],n.top=t[2],e.call(r,n)}))};return"default"==this._platform?V(this.__canvas,t,n):(t in this.__events_platform||(this.__events_platform[t]=[]),this.__events_platform[t].push(n)),this},this._isMounted=!0,this.$$lifecycle("mounted"),this):(console.warn("Mount node does not exist!"),this)},lt.prototype.$unmount=function(){return this._isDestroyed?(console.warn("The object has been destroyed!"),this):this._isMounted?(this.$$lifecycle("beforeUnmount"),this.__observeResize.observer.disconnect(),this.__painter=null,this.__canvas=null,this._isMounted=!1,this.$$lifecycle("unmounted"),this):(console.warn("Object not mounted!"),this)},lt.prototype.$destroy=function(){return this._isDestroyed?(console.warn("The object has been destroyed!"),this):(this._isMounted&&this.$unmount(),this.$$lifecycle("beforeDestroy"),delete this.__regionManager,this.__observeResize={},this.__observeWatcher={},this._isDestroyed=!0,this.$$lifecycle("destroyed"),this)},lt.prototype.$resize=function(t,e){if(this._isMounted||"default"!=this._platform)if("default"!=this._platform){if(!s(t))return console.warn("The width undefined!"),this;if(!s(e))return console.warn("The height undefined!"),this;this.$$lifecycle("beforeResize"),this._width=t,this._height=e,this._max=t>e?t:e,this._min=t<e?t:e,null!=this.__regionManager&&this.__regionManager.updateSize(t,e),this.$$updateWithData(!0),this.$$lifecycle("resized")}else this.$$updateWithSize();else console.warn("The clunch not mounted!");return this},lt.series("group",[function(){return{attrs:{}}}]);var ct=["number","json","string","color",function(t,e,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"line-width":t(1)(!0),dash:e([]),type:r("fill"),cx:t()(!0),cy:t()(!0),radius1:t()(!0),radius2:t()(!0),begin:t(0)(!0),deg:t()(!0)},region:{default:function(t,e){t().config({lineWidth:e["line-width"],lineDash:e.dash})[e.type+"Arc"](e.cx,e.cy,e.radius1,e.radius2,e.begin,e.deg)}},link:function(t,e){t.config({fillStyle:e["fill-color"],strokeStyle:e["stroke-color"],lineWidth:e["line-width"],lineDash:e.dash});var r=e.type;if(!u(t[r+"Arc"]))throw new Error("Type error!"+JSON.stringify({series:"arc",type:r}));t[r+"Arc"](e.cx,e.cy,e.radius1,e.radius2,e.begin,e.deg)}}}],ft=["number","json","string","color",function(t,e,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"line-width":t(1),dash:e([]),type:r("fill"),cx:t()(!0),cy:t()(!0),radius:t()(!0)},region:{default:function(t,e){t().config({lineWidth:e["line-width"],lineDash:e.dash})[e.type+"Circle"](e.cx,e.cy,e.radius)}},link:function(t,e){t.config({fillStyle:e["fill-color"],strokeStyle:e["stroke-color"],lineWidth:e["line-width"],lineDash:e.dash});var r=e.type;if(!u(t[r+"Circle"]))throw new Error("Type error!"+JSON.stringify({series:"circle",type:r}));t[r+"Circle"](e.cx,e.cy,e.radius)}}}],ht=["number","string","boolean","json","color",function(t,e,r,n,i){return{attrs:{"fill-color":i("black"),"stroke-color":i("black"),"line-width":t(1)(!0),dash:n([]),type:e("stroke"),close:r(!1)},subAttrs:{"move-to":{x:t()(!0),y:t()(!0)},"line-to":{x:t()(!0),y:t()(!0)},"bezier-to":{x:t()(!0),y:t()(!0),cp1x:t()(!0),cp1y:t()(!0),cp2x:t(null)(!0),cp2y:t(null)(!0)}},link:function(t,e){t.config({fillStyle:e["fill-color"],strokeStyle:e["stroke-color"],lineWidth:e["line-width"],lineDash:e.dash}),t.beginPath();for(var r=0;r<e._subAttr.length;r++)"move-to"==e._subAttr[r].series?t.moveTo(e._subAttr[r].attr.x,e._subAttr[r].attr.y):"line-to"==e._subAttr[r].series?t.lineTo(e._subAttr[r].attr.x,e._subAttr[r].attr.y):"bezier-to"==e._subAttr[r].series&&(null==e._subAttr[r].attr.cp2x&&null==e._subAttr[r].attr.cp2y?t.quadraticCurveTo(e._subAttr[r].attr.cp1x,e._subAttr[r].attr.cp1y,e._subAttr[r].attr.x,e._subAttr[r].attr.y):t.bezierCurveTo(e._subAttr[r].attr.cp1x,e._subAttr[r].attr.cp1y,e._subAttr[r].attr.cp2x,e._subAttr[r].attr.cp2y,e._subAttr[r].attr.x,e._subAttr[r].attr.y));e.close&&t.closePath();var n=e.type;if(!u(t[n]))throw new Error("Type error!"+JSON.stringify({series:"path",type:n}));t[n]()}}}],dt=["number","json","string","color","$rotate",function(t,e,n,i,o){return{attrs:{begin:t(0),deg:t(2*Math.PI),color:i("black"),cx:t(),cy:t(),radius:t(),"mark-direction":n("outer"),"value-position":n("mark"),value:e()},link:function(t,e){var n=e.value;t.config({lineWidth:1,fillStyle:e.color,strokeStyle:e.color,"font-size":"12",textAlign:"center",textBaseline:"middle",lineDash:[]}),t.beginPath().arc(e.cx,e.cy,e.radius,e.begin,e.deg).stroke();for(var i="mark"==e["value-position"]?n.length:n.length+1,a=e.deg/(i-1),s=0;s<i;s++){var l,u;(l=(u=t.beginPath()).moveTo.apply(u,r(o(e.cx,e.cy,e.begin+s*a,e.cx+e.radius,e.cy)))).lineTo.apply(l,r(o(e.cx,e.cy,e.begin+s*a,e.cx+e.radius+5*("inner"==e["mark-direction"]?-1:1),e.cy))).stroke()}for(var c=0;c<n.length;c++){var f=e.begin+a*(c+("mark"==e["value-position"]?0:.5)),h=f%(2*Math.PI);t.fillText.apply(t,[n[c]].concat(r(o(e.cx,e.cy,f,e.cx+e.radius+15*("inner"==e["mark-direction"]?-1:1),e.cy)),[f+(h>0&&h<Math.PI||h>-2*Math.PI&&h<-Math.PI?.5*-Math.PI:.5*Math.PI)]))}}}}],pt=["number","json","string","color",function(t,e,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"line-width":t(1),dash:e([]),type:r("fill"),align:r("left"),baseline:r("top"),x:t()(!0),y:t()(!0),width:t()(!0),height:t()(!0)},region:{default:function(t,e){t().config({lineWidth:e["line-width"],lineDash:e.dash})[e.type+"Rect"](e.x,e.y,e.width,e.height)}},link:function(t,e){"center"==e.align?e.x-=.5*e.width:"right"==e.align&&(e.x-=e.width),"middle"==e.baseline?e.y-=.5*e.height:"bottom"==e.baseline&&(e.y-=e.height),t.config({fillStyle:e["fill-color"],strokeStyle:e["stroke-color"],lineWidth:e["line-width"],lineDash:e.dash});var r=e.type;if(!u(t[r+"Rect"]))throw new Error("Type error!"+JSON.stringify({series:"rect",type:r}));t[r+"Rect"](e.x,e.y,e.width,e.height)}}}],vt=["number","json","string","color","$dot",function(t,e,n,i,o){return{attrs:{x:t(),y:t(),direction:n("LR"),length:t(),"mark-direction":n("right"),"value-position":n("mark"),color:i("black"),value:e()},link:function(t,e){var n,i,a=e.value;if(t.config({lineWidth:1,fillStyle:e.color,strokeStyle:e.color,"font-size":"12",textAlign:"LR"==e.direction||"RL"==e.direction?"center":"BT"==e.direction&&"right"==e["mark-direction"]||"TB"==e.direction&&"left"==e["mark-direction"]?"left":"right",lineDash:[],textBaseline:"middle"}),"LR"==e.direction)n={x:e.x+e.length,y:e.y},i="right"==e["mark-direction"]?[0,1]:[0,-1];else if("RL"==e.direction)n={x:e.x-e.length,y:e.y},i="right"==e["mark-direction"]?[0,-1]:[0,1];else if("TB"==e.direction)n={x:e.x,y:e.y+e.length},i="right"==e["mark-direction"]?[-1,0]:[1,0];else{if("BT"!=e.direction)throw new Error("Type error!"+JSON.stringify({series:"ruler",type:type}));n={x:e.x,y:e.y-e.length},i="right"==e["mark-direction"]?[1,0]:[-1,0]}t.beginPath().moveTo(e.x,e.y).lineTo(n.x,n.y).stroke();for(var s="mark"==e["value-position"]?a.length:a.length+1,l=e.length/(s-1),u=o({d:[n.x-e.x,n.y-e.y],p:[e.x,e.y]}),c=0;c<s;c++){var f,h=u.value();(f=t.beginPath()).moveTo.apply(f,r(h)).lineTo(h[0]+5*i[0],h[1]+5*i[1]).stroke(),u.move(l)}u=o({d:[n.x-e.x,n.y-e.y],p:[e.x,e.y]}),"between"==e["value-position"]&&u.move(.5*l);for(var d=0;d<a.length;d++){var p=u.value();t.fillText(a[d],p[0]+15*i[0],p[1]+15*i[1]),u.move(l)}}}}],gt=["number","string","json","color",function(t,e,r,n){return{attrs:{"fill-color":n("black"),"stroke-color":n("black"),"font-size":t(16)(!0),"font-family":e("sans-serif"),"line-width":t(1),align:e("left"),baseline:e("middle"),type:e("fill"),content:e(null),x:t()(!0),y:t()(!0),deg:t(0)(!0),dash:r([])},region:{default:function(t,e){t().config({"font-size":e["font-size"],"font-family":e["font-family"],lineWidth:e["line-width"],textAlign:e.align,textBaseline:e.baseline,lineDash:e.dash})[e.type+"Text"]((e.content+"").trim(),e.x,e.y,e.deg)}},link:function(t,e){null==e.content&&(e.content=e._subTexts.join("\n")),t.config({fillStyle:e["fill-color"],strokeStyle:e["stroke-color"],"font-size":e["font-size"],"font-family":e["font-family"],lineWidth:e["line-width"],textAlign:e.align,textBaseline:e.baseline,lineDash:e.dash});var r=e.type;if(!u(t[r+"Text"]))throw new Error("Type error!"+JSON.stringify({series:"text",type:r}));t[r+"Text"]((e.content+"").trim(),e.x,e.y,e.deg)}}}];lt.prototype.$$templateCompiler=function(t){throw new Error("Sorry, setting template property is not supported in the current environment : \n"+t)},lt.series({arc:ct,circle:ft,path:ht,"polar-ruler":dt,rect:pt,ruler:vt,text:gt}),"object"===e(t)&&"object"===e(t.exports)?t.exports=lt:window.Clunch=lt}()}).call(this,r(7)(t))}}]);